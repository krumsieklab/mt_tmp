
R version 3.6.1 (2019-07-05) -- "Action of the Toes"
Copyright (C) 2019 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.6.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "MetaboTools"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> base::assign(".ExTimings", "MetaboTools-Ex.timings", pos = 'CheckExEnv')
> base::cat("name\tuser\tsystem\telapsed\n", file=base::get(".ExTimings", pos = 'CheckExEnv'))
> base::assign(".format_ptime",
+ function(x) {
+   if(!is.na(x[4L])) x[1L] <- x[1L] + x[4L]
+   if(!is.na(x[5L])) x[2L] <- x[2L] + x[5L]
+   options(OutDec = '.')
+   format(x[1L:3L], digits = 7L)
+ },
+ pos = 'CheckExEnv')
> 
> ### * </HEADER>
> library('MetaboTools')
Loading required package: magrittr
Loading required package: SummarizedExperiment
Loading required package: GenomicRanges
Loading required package: stats4
Loading required package: BiocGenerics
Loading required package: parallel

Attaching package: ‘BiocGenerics’

The following objects are masked from ‘package:parallel’:

    clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,
    clusterExport, clusterMap, parApply, parCapply, parLapply,
    parLapplyLB, parRapply, parSapply, parSapplyLB

The following objects are masked from ‘package:stats’:

    IQR, mad, sd, var, xtabs

The following objects are masked from ‘package:base’:

    Filter, Find, Map, Position, Reduce, anyDuplicated, append,
    as.data.frame, basename, cbind, colnames, dirname, do.call,
    duplicated, eval, evalq, get, grep, grepl, intersect, is.unsorted,
    lapply, mapply, match, mget, order, paste, pmax, pmax.int, pmin,
    pmin.int, rank, rbind, rownames, sapply, setdiff, sort, table,
    tapply, union, unique, unsplit, which, which.max, which.min

Loading required package: S4Vectors

Attaching package: ‘S4Vectors’

The following object is masked from ‘package:base’:

    expand.grid

Loading required package: IRanges
Loading required package: GenomeInfoDb
Loading required package: Biobase
Welcome to Bioconductor

    Vignettes contain introductory material; view with
    'browseVignettes()'. To cite Bioconductor, see
    'citation("Biobase")', and for packages 'citation("pkgname")'.

Loading required package: DelayedArray
Loading required package: matrixStats

Attaching package: ‘matrixStats’

The following objects are masked from ‘package:Biobase’:

    anyMissing, rowMedians

Loading required package: BiocParallel

Attaching package: ‘DelayedArray’

The following objects are masked from ‘package:matrixStats’:

    colMaxs, colMins, colRanges, rowMaxs, rowMins, rowRanges

The following objects are masked from ‘package:base’:

    aperm, apply, rowsum

> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> base::assign(".old_wd", base::getwd(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("mt_anno_metabolites_HMDB2KEGG")
> ### * mt_anno_metabolites_HMDB2KEGG
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_anno_metabolites_HMDB2KEGG
> ### Title: Create KEGG identifiers from HMDB identifiers.
> ### Aliases: mt_anno_metabolites_HMDB2KEGG
> 
> ### ** Examples
> 
> # Load data, sheet with sample annotations, sheet with metabolite annotations and add KEGG identifiers
> ## Not run: 
> ##D D <-
> ##D   # load raw data
> ##D   mt_files_data_xls(file=file, sheet="data", samplesInRows=T, ID="SAMPLE_NAME") %>%
> ##D   # sample annotations from metabolomics run
> ##D   mt_files_anno_xls(file=file, sheet="sampleinfo", annosfor="samples", IDanno = "SAMPLE_NAME") %>%
> ##D   # metabolite annotations
> ##D   mt_files_anno_xls(file=file, sheet="metinfo", annosfor="metabolites", IDanno="BIOCHEMICAL", IDdata = "name") %>%
> ##D   # add KEGG identifiers
> ##D   mt_anno_metabolites_HMDB2KEGG(in_col="HMDb_id", out_col="KEGG") %>%
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_anno_metabolites_HMDB2KEGG", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_anno_pathways_HMDB")
> ### * mt_anno_pathways_HMDB
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_anno_pathways_HMDB
> ### Title: Add pathway information.
> ### Aliases: mt_anno_pathways_HMDB
> 
> ### ** Examples
> 
> # annotate metabolites using smp_db
> ## Not run: 
> ##D ... %>%
> ##D   mt_anno_pathways_HMDB(in_col = "HMDb_ID", out_col = "smp_db",
> ##D                         pwdb_name = "SMP",
> ##D                         db_dir = codes.makepath("snippets/packages/metabotools_external/hmdb")) %>%
> ##D ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_anno_pathways_HMDB", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_anno_pathways_from_file")
> ### * mt_anno_pathways_from_file
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_anno_pathways_from_file
> ### Title: Add pathway information.
> ### Aliases: mt_anno_pathways_from_file
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # annotate metabolites using the SMP column of the pathway database flat file
> ##D ... %>%
> ##D       mt_anno_pathways_from_file(in_col = "HMDb_ID",
> ##D                                  out_col = "janpw",
> ##D                                  file = codes.makepath("packages/metabotools_external/hmdb/hmdb_preprocessed_4.0.csv"),
> ##D                                  met_ID_col = "HMDB_id",
> ##D                                  pw_ID_col = "SMP",
> ##D                                  pw_name_col = "pathway_name") %>%
> ##D ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_anno_pathways_from_file", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_anno_pathways_graphite")
> ### * mt_anno_pathways_graphite
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_anno_pathways_graphite
> ### Title: Add pathway information.
> ### Aliases: mt_anno_pathways_graphite
> 
> ### ** Examples
> 
> # annotate metabolites using the humancyc database from the graphite package
> ## Not run: 
> ##D ... %>%
> ##D     mt_add_pathways(in_col = "KEGG",
> ##D                     out_col = "humancyc_db",
> ##D                     pwdb_species = "hsapiens",
> ##D                     pwdb_name = "humancyc",
> ##D                     n_cpus = 5) %>%
> ##D ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_anno_pathways_graphite", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_anno_pathways_remove_redundant")
> ### * mt_anno_pathways_remove_redundant
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_anno_pathways_remove_redundant
> ### Title: Remove redundant pathway annotations.
> ### Aliases: mt_anno_pathways_remove_redundant
> 
> ### ** Examples
> 
> # first annotate metabolites using smp_db and then remove redundant pathways
> ## Not run: 
> ##D ... %>%
> ##D   mt_anno_pathways_HMDB(in_col = "HMDb_ID", out_col = "smp_db",
> ##D   pwdb_name = "SMP", db_dir = codes.makepath("snippets/packages/metabotools_external/hmdb")) %>%
> ##D   mt_anno_pathways_remove_redundant(met_ID_col = "HMDb_ID", pw_ID_col = "smp_db") %>%
> ##D ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_anno_pathways_remove_redundant", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_anno_xls")
> ### * mt_files_anno_xls
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_anno_xls
> ### Title: Load annotations from Excel file.
> ### Aliases: mt_files_anno_xls
> 
> ### ** Examples
> 
> # Load data, two sheets with sample annotations, and one sheet with metabolite annotations from the same file
> ## Not run: 
> ##D D <- 
> ##D   # load raw data
> ##D   mt_files_data_xls(file=file, sheet="data", samplesInRows=T, ID="SAMPLE_NAME") %>% 
> ##D   # sample annotations from metabolomics run
> ##D   mt_files_anno_xls(file=file, sheet="sampleinfo", anno_type="samples", anno_ID = "SAMPLE_NAME") %>% 
> ##D   # sample annotations from clinical table
> ##D   mt_files_anno_xls(file=file, sheet="clinicals", anno_type="samples", anno_ID="SAMPLE_NAME") %>% 
> ##D   # metabolite annotations`
> ##D   mt_files_anno_xls(file=file, sheet="metinfo", anno_type="metabolites", anno_ID="BIOCHEMICAL", data_ID = "name") %>% 
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_anno_xls", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_checksum")
> ### * mt_files_checksum
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_checksum
> ### Title: Validate MD5 checksum of file.
> ### Aliases: mt_files_checksum
> 
> ### ** Examples
> 
> # first call, to get the checksum (will crash, deliberately)
> ## Not run: ... %>% mt_files_checksum(file="input.xlsx", checksum="") %>% ...   
> 
> # copy-paste the correct ('actual') checksum from the error message into the call:
> ## Not run: ... %>% mt_files_checksum(file="input.xlsx", checksum="688048bd1eb9c771be0eb49548a6f947") %>% ...   
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_checksum", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_data_xls")
> ### * mt_files_data_xls
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_data_xls
> ### Title: Load data matrix from Excel file.
> ### Aliases: mt_files_data_xls
> 
> ### ** Examples
> 
> # Load data, two sheets with sample annotations, and one sheet with metabolite annotations from the same file
> ## Not run: 
> ##D D <- 
> ##D   # load raw data
> ##D   mt_files_data_xls(file=file, sheet="data", samples_in_rows=T, ID_col="SAMPLE_NAME") %>% 
> ##D   # sample annotations from metabolomics run
> ##D   mt_files_anno_xls(file=file, sheet="sampleinfo", annosfor="samples", IDanno = "SAMPLE_NAME") %>% 
> ##D   # sample annotations from clinical table
> ##D   mt_files_anno_xls(file=file, sheet="clinicals", annosfor="samples", IDanno="SAMPLE_NAME") %>% 
> ##D   # metabolite annotations`
> ##D   mt_files_anno_xls(file=file, sheet="metinfo", annosfor="metabolites", IDanno="BIOCHEMICAL", IDdata = "name") %>% 
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_data_xls", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_load_UCD")
> ### * mt_files_load_UCD
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_load_UCD
> ### Title: Load UC Davis-format data.
> ### Aliases: mt_files_load_UCD
> 
> ### ** Examples
> 
> ## Not run: 
> ##D D <- 
> ##D   # load data
> ##D   mt_files_load_UCD(codes.makepath("Mt/sampledata.xlsx"), "OrigScale") %>%
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_load_UCD", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_load_WCM")
> ### * mt_files_load_WCM
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_load_WCM
> ### Title: Load WCM core-format data.
> ### Aliases: mt_files_load_WCM
> 
> ### ** Examples
> 
> ## Not run: 
> ##D D <-
> ##D   # load data in WCM format
> ##D   mt_files_load_WCM(
> ##D     file='DM369_Metabolites separated by nucleotides 12_6_18_altered.xlsx',
> ##D     sheet='peakHeight_metabolite_intensiti') %>%
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_load_WCM", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_load_metabolon")
> ### * mt_files_load_metabolon
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_load_metabolon
> ### Title: Load Metabolon-format data.
> ### Aliases: mt_files_load_metabolon
> 
> ### ** Examples
> 
> ## Not run: 
> ##D D <- 
> ##D   # load data
> ##D   mt_files_load_metabolon(codes.makepath("Mt/sampledata.xlsx"), "OrigScale") %>%
> ##D   ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_load_metabolon", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_write_pathwayannos")
> ### * mt_files_write_pathwayannos
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_write_pathwayannos
> ### Title: Write out all pathway annotations, possible redundant pathways,
> ###   and metabolite annotations.
> ### Aliases: mt_files_write_pathwayannos
> 
> ### ** Examples
> 
> ## Not run: 
> ##D ... %>% 
> ##D mt_add_pathways(in_col = "KEGG",
> ##D     out_col = "kegg_db",
> ##D     pw_species = "hsapiens",
> ##D     pw_name = "kegg") %>%
> ##D mt_anno_pathways_remove_redundant(met_ID_col = "KEGG", pw_col = "kegg_db") %>%
> ##D mt_files_write_pathwayannos(pwfield='kegg_db', file='pwannos.xlsx')
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_write_pathwayannos", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_write_stats")
> ### * mt_files_write_stats
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_write_stats
> ### Title: Export statistical results from pipeline into Excel file.
> ### Aliases: mt_files_write_stats
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Write out all results
> ##D ... %>% mt_files_write_stats(file="results.xlsx") %>%
> ##D # Write out specific result]
> ##D ... %>% mt_files_write_stats(file="results.xlsx", compnames="comp1") %>%
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_write_stats", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_files_write_xls")
> ### * mt_files_write_xls
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_files_write_xls
> ### Title: Outputs assay, colData and rowData into an Excel file.
> ### Aliases: mt_files_write_xls
> 
> ### ** Examples
> 
> ## Not run: %>% mt_files_write_xls(file = "out.xlsx") %>%
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_files_write_xls", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_aggPW")
> ### * mt_modify_aggPW
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_aggPW
> ### Title: Generate aggregated pathway values.
> ### Aliases: mt_modify_aggPW
> 
> ### ** Examples
> 
> ## Not run: 
> ##D %>% mt_modify_aggPW(pw_col="SUB_PATHWAY", method="aggmean") %>%  # subpathways from metabolon
> ##D 
> ##D # add KEGG pathways and use those
> ##D %>%
> ##D   mt_anno_pathways_HMDB(in_col = "HMDB", out_col = "kegg_db", pwdb_name = "KEGG", db_dir = codes.makepath("snippets/packages/metabotools_external/hmdb")) %>%
> ##D   mt_anno_pathways_remove_redundant(met_ID_col = "HMDB", pw_col = "kegg_db") %>%
> ##D   mt_modify_aggPW(pw_col="kegg_db", method="aggmean") %>%
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_aggPW", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_applytoanno")
> ### * mt_modify_applytoanno
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_applytoanno
> ### Title: Apply function to metabolite or sample annotation column.
> ### Aliases: mt_modify_applytoanno
> 
> ### ** Examples
> 
>  ## Not run: 
> ##D ... %>%
> ##D  # ensure factor for casecontrol variable
> ##D  mt_modify_applytoanno(
> ##D    anno_type='samples',
> ##D    col_name='casecontrol',
> ##D    fun=as.factor) %>%
> ##D  ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_applytoanno", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_averagesample")
> ### * mt_modify_averagesample
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_averagesample
> ### Title: mt-modify_averagesample
> ### Aliases: mt_modify_averagesample
> 
> ### ** Examples
> 
> ## Not run: ... %>% mt_modify_averagesample(group_by = "RID") %>% ...
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_averagesample", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_cv")
> ### * mt_modify_cv
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_cv
> ### Title: mt_modify cv
> ### Aliases: mt_modify_cv
> 
> ### ** Examples
> 
> ## Not run: ... %>% mt_modify_cv(qc_samples=="PQC", col_lab = "PQC_cv") %>% ...
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_cv", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_filter_metabolites")
> ### * mt_modify_filter_metabolites
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_filter_metabolites
> ### Title: Filter metabolites.
> ### Aliases: mt_modify_filter_metabolites
> 
> ### ** Examples
> 
> ## Not run: ... %>% mt_modify_filter_metabolites(SUPER_PATHWAY=="Nucleotide") %>% ...
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_filter_metabolites", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_filter_samples")
> ### * mt_modify_filter_samples
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_filter_samples
> ### Title: Filter samples.
> ### Aliases: mt_modify_filter_samples
> 
> ### ** Examples
> 
> # filter to two specific groups of samples
> ## Not run: ... %>% mt_modify_filter_samples(sample_filter = GROUP %in% c("FL","ctrl")) %>% ...
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_filter_samples", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_mutate")
> ### * mt_modify_mutate
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_mutate
> ### Title: Create new variable by expression
> ### Aliases: mt_modify_mutate
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Convert numeric sample annotation field 'num' to factor
> ##D ...  %>%
> ##D  mt_modify_mutate(anno_type="samples", col_name="num", term = as.factor(num)) %>% ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_mutate", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_ratios")
> ### * mt_modify_ratios
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_ratios
> ### Title: Generate metabolite ratios.
> ### Aliases: mt_modify_ratios
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Transform dataset to ratios
> ##D ... %>%  mt_modify_ratios() %>% ... # proceed with statistical analysis
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_ratios", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_modify_sampleanno_reorder")
> ### * mt_modify_sampleanno_reorder
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_modify_sampleanno_reorder
> ### Title: Reorder a sample annotation.
> ### Aliases: mt_modify_sampleanno_reorder
> 
> ### ** Examples
> 
> ## Not run: %>% mt_modify_sampleanno_reorder("Group", c('WT_Norm_F','WT_Hyp_F','KO_Norm_F','KO_Hyp_F','WT:KO2_F','WT:WT2_F')) %>%
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_modify_sampleanno_reorder", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_plots_PCA")
> ### * mt_plots_PCA
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_plots_PCA
> ### Title: 2D PCA of samples.
> ### Aliases: mt_plots_PCA
> 
> ### ** Examples
> 
> ## Not run: 
> ##D ## PCA on scaledata, color and shape by "Group" variable in colData
> ##D ... $>$ mt_plots_PCA(scaledata=T, color=Group, shape=Group, title="PCA - scaled data") %>% ...
> ##D ## PCA scores plot on non-scaled data, with ellipse and extra explained variance plot, and two ggadds (white background and centering of title)
> ##D mt_plots_PCA(title="PCA scores", show = 'scores', scaledata=F, PCa=1, PCb=2, ellipse=0.95, expvarplot=T, ggadd = theme_bw() + theme(plot.title=element_text(hjust=0.5)))
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_plots_PCA", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_plots_UMAP")
> ### * mt_plots_UMAP
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_plots_UMAP
> ### Title: 2D UMAP of samples.
> ### Aliases: mt_plots_UMAP
> 
> ### ** Examples
> 
> ## Not run: 
> ##D ## UMAP on scaledata, color and shape by "Group" variable in colData
> ##D ... $>$ mt_plots_UMAP(scaledata=T, color=Group, shape=Group, title="UMAP - scaled data") %>% ...
> ## End(Not run)
> 
> 
> 
> 
> base::assign(".dptime", (proc.time() - get(".ptime", pos = "CheckExEnv")), pos = "CheckExEnv")
> base::cat("mt_plots_UMAP", base::get(".format_ptime", pos = 'CheckExEnv')(get(".dptime", pos = "CheckExEnv")), "\n", file=base::get(".ExTimings", pos = 'CheckExEnv'), append=TRUE, sep="\t")
> cleanEx()
> nameEx("mt_plots_boxplot")
> ### * mt_plots_boxplot
> 
> flush(stderr()); flush(stdout())
> 
> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: mt_plots_boxplot
> ### Title: Boxplots
> ### Aliases: mt_plots_boxplot
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # boxplots as overview of results with a result already in 'comp'
> ##D # color by "Group" variable in colData
> ##D mt_plots_boxplot(x                  = Group,
> ##D                  statname           = "comp",
> ##D                  correct_confounder = ~BATCH_MOCK,
> ##D                  metab_filter       = p.value<0.01,
> ##D                  metab_sort         = p.value,
> ##D                  annotation         = "{sprintf('P-value: %.1e', p.value)}\nStatistic: {sprintf('%.2f', statistic)}",
> ##D                  rows               = 2,
> ##D                  cols               = 2) %>%
> ##D                  ...
> ## End(Not run)
> 
>  @author Jonas Zierer
Error: unexpected '@' in " @"
Execution halted
